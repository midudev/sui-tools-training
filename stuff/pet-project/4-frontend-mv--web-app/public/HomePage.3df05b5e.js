(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{NZ6x:function(e,t,r){"use strict";r.r(t);var n=r("mXGw"),o=r.n(n),i=(r("W0B4"),r("x78N"),r("ltYx")),a=r.n(i),s=r("tYyp"),u=r("ayjw"),c=function(e){var t=Object(n.useState)([]),r=t[0],i=t[1];return o.a.createElement("div",null,o.a.createElement("form",{className:"searchForm",onSubmit:function(t){t.preventDefault(),e.router.push("/?query="+r)}},o.a.createElement("input",{className:"searchForm-input",onChange:function(e){return function(e){i(e.target.value)}(e)}}),o.a.createElement("button",{className:"searchForm-button"}," Search ")),!e.error&&e.results.map(function(e,t){return o.a.createElement(s.b,{to:"detail/"+e.imdbID,key:t},o.a.createElement("h2",null,e.Title),o.a.createElement("img",{src:e.Poster}))}),e.error&&o.a.createElement("h1",null,""+e.error))};c.renderLoading=function(){return o.a.createElement(a.a,{type:i.AtomSpinnerTypes.FULL})},c.getInitialProps=function(e){var t=e.routeInfo,r=(e.context,t.location.query.query);return void 0===r&&(r="avengers"),u.a.get("search_movies_use_case").execute({query:r}).then(function(e){return console.log(e),e.Search?{results:e.Search}:{error:"Could not find any films by "+r}})},t.default=c},Vz7R:function(e,t,r){"use strict";r.r(t);var n=r("mXGw"),o=r.n(n),i=(r("W0B4"),r("ltYx")),a=r.n(i),s=(r("fzZc"),r("ayjw")),u=function(e){return o.a.createElement("div",null,e.movie&&o.a.createElement("div",null,o.a.createElement("h1",null,e.movie.Title),o.a.createElement("img",{src:e.movie.Poster})),e.error&&o.a.createElement("h1",null,e.error))};u.renderLoading=function(){return o.a.createElement(a.a,{type:i.AtomSpinnerTypes.FULL})},u.getInitialProps=function(e){var t=e.routeInfo,r=(e.context,t.params.id);return s.a.get("detail_movies_use_case").execute({id:r}).then(function(e){return console.log(e),e.Error?{error:"Film not available"}:{movie:e}})},t.default=u},ayjw:function(e,t,r){"use strict";var n=r("4NoI"),o=r("7GGI"),i=r.n(o),a=r("PG3i"),s=r.n(a),u=r("m9iK"),c=r.n(u),p=function(e){function t(t){var r,n=t.config,o=t.repository;return(r=e.call(this)||this)._config=n,r._repository=o,r}return c()(t,e),t.prototype.execute=function(){var e=s()(i.a.mark(function e(t){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.abrupt("return",this._repository.getDetail({id:r}));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t}(n.d),m=function(e){function t(t){var r,n=t.config,o=t.repository;return(r=e.call(this)||this)._config=n,r._repository=o,r}return c()(t,e),t.prototype.execute=function(){var e=s()(i.a.mark(function e(t){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.query,e.abrupt("return",this._repository.getDetail({query:r}));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t}(n.d),l=function(e){function t(){return e.apply(this,arguments)||this}return c()(t,e),t.prototype.getDetail=function(){throw new Error("[getDetail] method must be implemented")},t}(n.c),f=function(e){function t(t){var r,n=t.fetch;return(r=e.call(this)||this)._fetch=n,r}return c()(t,e),t.prototype.getDetail=function(e){var t=e.id;return this._fetch("http://www.omdbapi.com/?apikey=4287ad07&i="+t).then(function(e){return e.json()})},t}(l),h=function(e){function t(t){var r,n=t.fetch;return(r=e.call(this)||this)._fetch=n,r}return c()(t,e),t.prototype.getDetail=function(e){var t=e.query;return this._fetch("http://www.omdbapi.com/?i=tt3896198&apikey=ab2734dd&s="+t).then(function(e){return e.json()})},t}(l),v=function(e){function t(t){var r,n=t.mapper;return(r=e.call(this)||this)._mapper=n,r}return c()(t,e),t.prototype.getDetail=function(e){e.id;var t=this._mapper.map({movieName:"The Avengers: Earth's Mightiest Heroes",Year:"2010â€“2012",Rated:"TV-Y7",Released:"22 Sep 2010",Runtime:"30 min",Genre:"Animation, Action, Family, Sci-Fi",Director:"N/A",Writer:"N/A",Actors:"Eric Loomis, Colleen O'Shaughnessey, Brian Bloom, Rick D. Wasserman",Plot:"After 74 villains break out of prison, Marvel's most powerful superheroes team up to capture all of them, and also to defend the Earth from widespread threats.",Language:"English",Country:"USA",Awards:"8 nominations.",image:"https://m.media-amazon.com/images/M/MV5BYzA4ZjVhYzctZmI0NC00ZmIxLWFmYTgtOGIxMDYxODhmMGQ2XkEyXkFqcGdeQXVyNjExODE1MDc@._V1_SX300.jpg",Ratings:[{Source:"Internet Movie Database",Value:"8.3/10"}],Metascore:"N/A",imdbRating:"8.3",imdbVotes:"11,706",imdbID:"tt1626038",Type:"series",totalSeasons:"2",Response:"True"});return Promise.resolve(t)},t}(l),y=function(e){function t(){return e.apply(this,arguments)||this}return c()(t,e),t.prototype.execute=function(){var e=s()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.query,e.abrupt("return",Promise.resolve([{Poster:"https://m.media-amazon.com/images/M/MV5BNDYxNjQyMjAtNTdiOS00NGYwLWFmNTAtNThmYjU5ZGI2YTI1XkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_SX300.jpg",Title:"The Avengers",Type:"movie",Year:"2012",imdbID:"tt0848228"},{Poster:"https://m.media-amazon.com/images/M/MV5BMTM4OGJmNWMtOTM4Ni00NTE3LTg3MDItZmQxYjc4N2JhNmUxXkEyXkFqcGdeQXVyNTgzMDMzMTg@._V1_SX300.jpg",Title:"Avengers: Age of Ultron",Type:"movie",Year:"2015",imdbID:"tt2395427"},{Poster:"https://m.media-amazon.com/images/M/MV5BMjMxNjY2MDU1OV5BMl5BanBnXkFtZTgwNzY1MTUwNTM@._V1_SX300.jpg",Title:"Avengers: Infinity War",Type:"movie",Year:"2018",imdbID:"tt4154756"}]));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t}(n.d),d=r("RUjJ"),g=r.n(d),M=r("M3Y3"),w=r.n(M),T=function(e){function t(){return e.apply(this,arguments)||this}return c()(t,e),t.prototype.map=function(e){var t=e.movieName,r=e.image,n=w()(e,["movieName","image"]);return g()({Title:t,Poster:r},n)},t}(n.b),D=function(e){function t(){return e.apply(this,arguments)||this}return c()(t,e),t.prototype.map=function(e){var t=e.Title,r=e.Poster,n=w()(e,["Title","Poster"]);return g()({title:t,poster:r},n)},t}(n.b),_=function(){};_.fromMockMoviesRepositoryDetailResponseToDetailUseCaseResponse=function(){return new T},_.fromMockMoviesRepositorySearchResponseToDetailUseCaseResponse=function(){return new D};var N=r("VQjK"),b=r.n(N),E=function(){};E.apiMoviesRepository=function(){return new f({fetch:b.a})},E.apiSearchMoviesRepository=function(){return new h({fetch:b.a})},E.mockDetailMoviesRepository=function(){return new v({mapper:_.fromMockMoviesRepositoryDetailResponseToDetailUseCaseResponse()})},E.mockSearchMoviesRepository=function(){return new y({mapper:_.fromMockMoviesRepositorySearchResponseToDetailUseCaseResponse()})};var R=function(){};R.detailMoviesUseCase=function(){return new p({repository:E.apiMoviesRepository()})},R.searchMoviesUseCase=function(){return new m({repository:E.apiSearchMoviesRepository()})};var k={detail_movies_use_case:R.detailMoviesUseCase(),search_movies_use_case:R.searchMoviesUseCase()},x=Object(n.a)({useCases:k});t.a=new x},fzZc:function(e,t,r){},x78N:function(e,t,r){}}]);