(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{NZ6x:function(e,t,r){"use strict";r.r(t);var n=r("mXGw"),a=r.n(n),o=(r("W0B4"),r("x78N"),r("ltYx")),i=r.n(o),s=r("M3/a"),c=r.n(s),u=r("4EDr"),m=r.n(u),p=r("QmzR"),l=r.n(p),f=r("qH2W"),h=r.n(f),v=r("tYyp"),y=r("ayjw"),d=function(e){var t=Object(n.useState)([]),r=t[0],o=t[1];return a.a.createElement("div",{className:"content"},a.a.createElement("form",{className:"searchForm",onSubmit:function(t){t.preventDefault(),e.router.push("/?query="+r)}},a.a.createElement(m.a,{className:"searchForm-input",onChange:function(e){return function(e){o(e.target.value)}(e)}}),a.a.createElement(c.a,{className:"searchForm-button"}," Search ")),!e.error&&e.results.map(function(e,t){return a.a.createElement(v.b,{className:"content-card",to:"detail/"+e.imdbID,key:t},a.a.createElement("h2",null,e.Title),a.a.createElement(h.a,{src:e.Poster}))}),e.error&&a.a.createElement(l.a,{className:"content-warning",type:"warning"},""+e.error))};d.renderLoading=function(){return a.a.createElement(i.a,{type:o.AtomSpinnerTypes.FULL})},d.getInitialProps=function(e){var t=e.routeInfo,r=(e.context,t.location.query.query);return void 0===r&&(r="avengers"),y.a.get("search_movies_use_case").execute({query:r}).then(function(e){return console.log(e),e.Search?{results:e.Search}:{error:"Could not find any films by "+r}})},t.default=d},Vz7R:function(e,t,r){"use strict";r.r(t);var n=r("mXGw"),a=r.n(n),o=(r("W0B4"),r("ltYx")),i=r.n(o),s=r("M3/a"),c=r.n(s),u=r("QmzR"),m=r.n(u),p=r("qH2W"),l=r.n(p),f=r("lCMz"),h=r.n(f),v=r("ayjw"),y=(r("fzZc"),function(e){return a.a.createElement("div",null,a.a.createElement(c.a,{onClick:function(){return e.router.goBack()}}," Back "),e.movie&&a.a.createElement("div",{className:"detail"},a.a.createElement("h1",{className:"detail-title"},e.movie.Title),a.a.createElement(l.a,{src:e.movie.Poster}),a.a.createElement("p",null," ","Year: "+e.movie.Year),a.a.createElement("p",null," ","Released: "+e.movie.Released),a.a.createElement("p",null," ","Genre: "+e.movie.Genre),a.a.createElement("p",null," ","Runtime: "+e.movie.Runtime),a.a.createElement("p",null," ","Actors: "+e.movie.Actors),a.a.createElement("p",null,"IMDB Rating: ",a.a.createElement(h.a,{label:e.movie.imdbRating}))),e.error&&a.a.createElement(m.a,{type:"warning"},e.error))});y.renderLoading=function(){return a.a.createElement(i.a,{type:o.AtomSpinnerTypes.FULL})},y.getInitialProps=function(e){var t=e.routeInfo,r=(e.context,t.params.id);return v.a.get("detail_movies_use_case").execute({id:r}).then(function(e){return console.log(e),e.Error?{error:"Film not available"}:{movie:e}})},t.default=y},ayjw:function(e,t,r){"use strict";var n=r("4NoI"),a=r("7GGI"),o=r.n(a),i=r("PG3i"),s=r.n(i),c=r("m9iK"),u=r.n(c),m=function(e){function t(t){var r,n=t.config,a=t.repository;return(r=e.call(this)||this)._config=n,r._repository=a,r}return u()(t,e),t.prototype.execute=function(){var e=s()(o.a.mark(function e(t){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.abrupt("return",this._repository.getDetail({id:r}));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t}(n.d),p=function(e){function t(t){var r,n=t.config,a=t.repository;return(r=e.call(this)||this)._config=n,r._repository=a,r}return u()(t,e),t.prototype.execute=function(){var e=s()(o.a.mark(function e(t){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.query,e.abrupt("return",this._repository.getSearch({query:r}));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t}(n.d),l=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var r=t.prototype;return r.getDetail=function(){throw new Error("[getDetail] method must be implemented")},r.getSearch=function(){throw new Error("[getDetail] method must be implemented")},t}(n.c),f=function(e){function t(t){var r,n=t.fetch;return(r=e.call(this)||this)._fetch=n,r}u()(t,e);var r=t.prototype;return r.getDetail=function(e){var t=e.id;return this._fetch("http://www.omdbapi.com/?apikey=4287ad07&i="+t).then(function(e){return e.json()})},r.getSearch=function(e){var t=e.query;return this._fetch("http://www.omdbapi.com/?apikey=ab2734dd&s="+t).then(function(e){return e.json()})},t}(l),h=function(e){function t(t){var r,n=t.mapper;return(r=e.call(this)||this)._mapper=n,r}return u()(t,e),t.prototype.getDetail=function(e){e.id;var t=this._mapper.map({movieName:"The Avengers: Earth's Mightiest Heroes",Year:"2010â€“2012",Rated:"TV-Y7",Released:"22 Sep 2010",Runtime:"30 min",Genre:"Animation, Action, Family, Sci-Fi",Director:"N/A",Writer:"N/A",Actors:"Eric Loomis, Colleen O'Shaughnessey, Brian Bloom, Rick D. Wasserman",Plot:"After 74 villains break out of prison, Marvel's most powerful superheroes team up to capture all of them, and also to defend the Earth from widespread threats.",Language:"English",Country:"USA",Awards:"8 nominations.",image:"https://m.media-amazon.com/images/M/MV5BYzA4ZjVhYzctZmI0NC00ZmIxLWFmYTgtOGIxMDYxODhmMGQ2XkEyXkFqcGdeQXVyNjExODE1MDc@._V1_SX300.jpg",Ratings:[{Source:"Internet Movie Database",Value:"8.3/10"}],Metascore:"N/A",imdbRating:"8.3",imdbVotes:"11,706",imdbID:"tt1626038",Type:"series",totalSeasons:"2",Response:"True"});return Promise.resolve(t)},t}(l),v=function(e){function t(t){var r,n=t.mapper;return(r=e.call(this)||this)._mapper=n,r}return u()(t,e),t.prototype.getSearch=function(e){e.query;var t=this._mapper.map([{poster:"https://m.media-amazon.com/images/M/MV5BNDYxNjQyMjAtNTdiOS00NGYwLWFmNTAtNThmYjU5ZGI2YTI1XkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_SX300.jpg",title:"The Avengers",Type:"movie",Year:"2012",imdbID:"tt0848228"},{poster:"https://m.media-amazon.com/images/M/MV5BMTM4OGJmNWMtOTM4Ni00NTE3LTg3MDItZmQxYjc4N2JhNmUxXkEyXkFqcGdeQXVyNTgzMDMzMTg@._V1_SX300.jpg",title:"Avengers: Age of Ultron",Type:"movie",Year:"2015",imdbID:"tt2395427"},{poster:"https://m.media-amazon.com/images/M/MV5BMjMxNjY2MDU1OV5BMl5BanBnXkFtZTgwNzY1MTUwNTM@._V1_SX300.jpg",title:"Avengers: Infinity War",Type:"movie",Year:"2018",imdbID:"tt4154756"}]);return Promise.resolve(t)},t}(l),y=r("RUjJ"),d=r.n(y),g=r("M3Y3"),M=r.n(g),w=function(e){function t(){return e.apply(this,arguments)||this}return u()(t,e),t.prototype.map=function(e){var t=e.movieName,r=e.image,n=M()(e,["movieName","image"]);return d()({Title:t,Poster:r},n)},t}(n.b),E=function(e){function t(){return e.apply(this,arguments)||this}return u()(t,e),t.prototype.map=function(e){var t=e.title,r=e.poster,n=M()(e,["title","poster"]);return d()({Tile:t,Poster:r},n)},t}(n.b),N=function(){};N.fromMockMoviesRepositoryDetailResponseToDetailUseCaseResponse=function(){return new w},N.fromMockMoviesRepositorySearchResponseToDetailUseCaseResponse=function(){return new E};var R=r("VQjK"),T=r.n(R),D=function(){};D.apiMoviesRepository=function(){return new f({fetch:T.a})},D.mockDetailMoviesRepository=function(){return new h({mapper:N.fromMockMoviesRepositoryDetailResponseToDetailUseCaseResponse()})},D.mockSearchMoviesRepository=function(){return new v({mapper:N.fromMockMoviesRepositorySearchResponseToDetailUseCaseResponse()})};var _=function(){};_.detailMoviesUseCase=function(){return new m({repository:D.apiMoviesRepository()})},_.searchMoviesUseCase=function(){return new p({repository:D.apiMoviesRepository()})};var b={detail_movies_use_case:_.detailMoviesUseCase(),search_movies_use_case:_.searchMoviesUseCase()},k=Object(n.a)({useCases:b});t.a=new k},fzZc:function(e,t,r){},x78N:function(e,t,r){}}]);